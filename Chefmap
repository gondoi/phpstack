---
id: app
name: app
is: application
requires:
- host: linux
provides:
- application: http
options:
  "demo":
    label: "Enable Demo"
    type: boolean
  "packages":
    label: "PHP Packages"
    type: string
run-list:
  recipes:
  - platformstack::default
  - rackops_rolebook::default
  - phpstack::apache
  - phpstack::mysql_master
maps:
- value: {{setting('demo')}}
  targets:
  - attributes://phpstack/demo/enabled
- value: {{ deployment.id }}
  targets:
  - attributes://phpstack/databag_name
- value: {{setting('packages')}}
  targets:
  - attributes://php/packages
